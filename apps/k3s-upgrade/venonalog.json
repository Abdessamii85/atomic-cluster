{"Command":"Install-monitor-agent","caller":"cmdutils.go:121","fn":"github.com/codefresh-io/venona/venonactl/cmd.extendStoreWithKubeClient","kubeconfig":"/Users/dan/.kube/config","lvl":"dbug","msg":"Path to kubeconfig not set, using:","t":"2020-10-31T12:28:53.865433-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - secret.dind-volume-provisioner.vp.yaml","t":"2020-10-31T12:28:53.904133-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - deployment.venona.yaml","t":"2020-10-31T12:28:53.904303-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - venonaconf.secret.venona.yaml","t":"2020-10-31T12:28:53.904391-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:170","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"parsing template deployment.monitor.yaml","t":"2020-10-31T12:28:53.904461-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:170","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"parsing template rollback-role-binding.monitor.yaml","t":"2020-10-31T12:28:53.905785-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - secret.runtime-attach.yaml","t":"2020-10-31T12:28:53.907296-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:170","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"parsing template service-account.monitor.yaml","t":"2020-10-31T12:28:53.907385-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - cluster-role-binding.dind-volume-provisioner.vp.yaml","t":"2020-10-31T12:28:53.907716-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - dind-headless-service.re.yaml","t":"2020-10-31T12:28:53.907777-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - ingress.app-proxy.yaml","t":"2020-10-31T12:28:53.907823-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - role-binding.re.yaml","t":"2020-10-31T12:28:53.907867-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - role.re.yaml","t":"2020-10-31T12:28:53.907907-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - secret.venona.yaml","t":"2020-10-31T12:28:53.907948-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:170","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"parsing template service.monitor.yaml","t":"2020-10-31T12:28:53.908015-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - cluster-role-binding.app-proxy.yaml","t":"2020-10-31T12:28:53.908431-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - cluster-role.app-proxy.yaml","t":"2020-10-31T12:28:53.908491-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - codefresh-certs-server-secret.re.yaml","t":"2020-10-31T12:28:53.90853-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - cron-job.dind-volume-cleanup.vp.yaml","t":"2020-10-31T12:28:53.908562-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - service-account.re.yaml","t":"2020-10-31T12:28:53.908592-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - service.app-proxy.yaml","t":"2020-10-31T12:28:53.908619-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - cluster-role.dind-volume-provisioner.vp.yaml","t":"2020-10-31T12:28:53.908647-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - deployment.app-proxy.yaml","t":"2020-10-31T12:28:53.908676-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - deployment.dind-volume-provisioner.vp.yaml","t":"2020-10-31T12:28:53.908707-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:170","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"parsing template role.monitor.yaml","t":"2020-10-31T12:28:53.908738-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - storageclass.dind-volume-provisioner.vp.yaml","t":"2020-10-31T12:28:53.908989-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - cluster-role-binding.venona.yaml","t":"2020-10-31T12:28:53.909027-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:170","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"parsing template rolebinding.monitor.yaml","t":"2020-10-31T12:28:53.90908-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:170","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"parsing template rollback-serviceaccount.monitor.yaml","t":"2020-10-31T12:28:53.909389-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - service-account.dind-volume-provisioner.vp.yaml","t":"2020-10-31T12:28:53.909664-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - daemonset.dind-lv-monitor.vp.yaml","t":"2020-10-31T12:28:53.909712-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - dind-daemon-conf.re.yaml","t":"2020-10-31T12:28:53.909745-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:167","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.ParseTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Skipping parsing, pattern does not match .*.monitor.yaml - service-account.app-proxy.yaml","t":"2020-10-31T12:28:53.909775-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:198","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.KubeObjectsFromTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Deserializing template rollback-serviceaccount.monitor.yaml \napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: monitor-rollback\n  namespace: codefresh\n  labels:\n    app: monitor\n    version: 1.5.3","t":"2020-10-31T12:28:53.909799-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:204","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.KubeObjectsFromTemplates","installer":"monitor-agent","lvl":"dbug","msg":"deserializing template success rollback-serviceaccount.monitor.yaml group=","t":"2020-10-31T12:28:53.910297-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:198","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.KubeObjectsFromTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Deserializing template deployment.monitor.yaml \napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: monitor\n  namespace: codefresh\n  labels:\n    app: runner\n    version: 1.5.3\nspec:\n  replicas: 1\n  strategy:\n    type: RollingUpdate\n    rollingUpdate:\n      maxUnavailable: 50%\n      maxSurge: 50%\n  selector:\n    matchLabels:\n      app: monitor\n  template:\n    metadata:\n      labels:\n        app: monitor\n        version: 1.5.3\n    spec:\n      serviceAccountName: monitor\n      containers:\n      - name: monitor\n        resources:\n          \n        image: codefresh/agent:stable\n        imagePullPolicy: Always\n        env:\n          - name: SERVICE_NAME\n            value: monitor\n          - name: PORT\n            value: \"9020\"\n          - name: API_TOKEN\n            value: 5d718970e4af6f1e3fbb0ac3.cfa9468f4821984ba846ad95ac049195\n          - name: CLUSTER_ID\n            value: atomic-cluster\n          - name: API_URL\n            value: https://g.codefresh.io/api/k8s-monitor/events\n          - name: ACCOUNT_ID\n            value: user\n          - name: HELM3\n            value: \"false\"\n          - name: NAMESPACE\n            value: \"codefresh\"\n          - name: NODE_OPTIONS\n            value: \"--max_old_space_size=4096\"\n        ports:\n        - containerPort: 9020\n          protocol: TCP\n        readinessProbe:\n          httpGet:\n            path: /api/ping\n            port: 9020\n          periodSeconds: 5\n          timeoutSeconds: 5\n          successThreshold: 1\n          failureThreshold: 5          \n","t":"2020-10-31T12:28:53.910331-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:204","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.KubeObjectsFromTemplates","installer":"monitor-agent","lvl":"dbug","msg":"deserializing template success deployment.monitor.yaml group=apps","t":"2020-10-31T12:28:53.9151-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:198","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.KubeObjectsFromTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Deserializing template rollback-role-binding.monitor.yaml \nkind: ClusterRoleBinding\napiVersion: rbac.authorization.k8s.io/v1\nmetadata:\n  name: monitor-rollback\n  namespace: codefresh\n  labels:\n    app: monitor\n    version: 1.5.3\nsubjects:\n  - kind: ServiceAccount\n    namespace: codefresh\n    name: monitor-rollback\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: cluster-admin","t":"2020-10-31T12:28:53.915143-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:204","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.KubeObjectsFromTemplates","installer":"monitor-agent","lvl":"dbug","msg":"deserializing template success rollback-role-binding.monitor.yaml group=rbac.authorization.k8s.io","t":"2020-10-31T12:28:53.916356-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:198","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.KubeObjectsFromTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Deserializing template service-account.monitor.yaml \napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: monitor\n  namespace: codefresh\n  labels:\n    app: monitor\n    version: 1.5.3\n","t":"2020-10-31T12:28:53.916396-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:204","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.KubeObjectsFromTemplates","installer":"monitor-agent","lvl":"dbug","msg":"deserializing template success service-account.monitor.yaml group=","t":"2020-10-31T12:28:53.916484-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:198","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.KubeObjectsFromTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Deserializing template service.monitor.yaml \napiVersion: v1\nkind: Service\nmetadata:\n  name: monitor\n  namespace: codefresh\n  labels:\n    app: monitor\n    version: 1.5.3\nspec:\n  type: ClusterIP\n  ports:\n  - name: \"http\"\n    port: 80\n    protocol: TCP\n    targetPort: 9020\n  selector:\n    app: monitor\n","t":"2020-10-31T12:28:53.916508-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:204","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.KubeObjectsFromTemplates","installer":"monitor-agent","lvl":"dbug","msg":"deserializing template success service.monitor.yaml group=","t":"2020-10-31T12:28:53.917074-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:198","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.KubeObjectsFromTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Deserializing template role.monitor.yaml \nkind: ClusterRole\napiVersion: rbac.authorization.k8s.io/v1\nmetadata:\n  name: monitor-cluster-reader\n  namespace: codefresh\n  labels:\n    app: monitor\n    version: 1.5.3\nrules:\n- apiGroups:\n  - \"\"\n  resources: [\"*\"]\n  verbs:\n  - get\n  - list\n  - watch\n  - create\n  - delete\n- apiGroups:\n    - \"\"\n  resources: [\"pods\"]\n  verbs:\n    - get\n    - list\n    - watch\n    - create\n    - deletecollection\n- apiGroups:\n  - extensions\n  resources: [\"*\"]\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - apps\n  resources: [\"*\"]\n  verbs:\n  - get\n  - list\n  - watch","t":"2020-10-31T12:28:53.9171-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:204","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.KubeObjectsFromTemplates","installer":"monitor-agent","lvl":"dbug","msg":"deserializing template success role.monitor.yaml group=rbac.authorization.k8s.io","t":"2020-10-31T12:28:53.917617-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:198","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.KubeObjectsFromTemplates","installer":"monitor-agent","lvl":"dbug","msg":"Deserializing template rolebinding.monitor.yaml \nkind: ClusterRoleBinding\napiVersion: rbac.authorization.k8s.io/v1\nmetadata:\n  name: monitor-cluster-reader\n  namespace: codefresh\n  labels:\n    app: monitor\n    version: 1.5.3\nsubjects:\n- kind: ServiceAccount\n  namespace: codefresh\n  name: monitor\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: monitor-cluster-reader","t":"2020-10-31T12:28:53.917662-06:00"}
{"Command":"Install-monitor-agent","caller":"helper.go:204","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.KubeObjectsFromTemplates","installer":"monitor-agent","lvl":"dbug","msg":"deserializing template success rolebinding.monitor.yaml group=rbac.authorization.k8s.io","t":"2020-10-31T12:28:53.917782-06:00"}
{"Command":"Install-monitor-agent","caller":"plugin.go:249","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.install","installer":"monitor-agent","lvl":"dbug","msg":"ClusterRoleBinding \"monitor-cluster-reader\" created","t":"2020-10-31T12:28:53.932953-06:00"}
{"Command":"Install-monitor-agent","caller":"plugin.go:249","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.install","installer":"monitor-agent","lvl":"dbug","msg":"ServiceAccount \"monitor-rollback\" created","t":"2020-10-31T12:28:53.944758-06:00"}
{"Command":"Install-monitor-agent","caller":"plugin.go:249","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.install","installer":"monitor-agent","lvl":"dbug","msg":"Deployment \"monitor\" created","t":"2020-10-31T12:28:53.960505-06:00"}
{"Command":"Install-monitor-agent","caller":"plugin.go:249","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.install","installer":"monitor-agent","lvl":"dbug","msg":"ClusterRoleBinding \"monitor-rollback\" created","t":"2020-10-31T12:28:53.974158-06:00"}
{"Command":"Install-monitor-agent","caller":"plugin.go:249","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.install","installer":"monitor-agent","lvl":"dbug","msg":"ServiceAccount \"monitor\" created","t":"2020-10-31T12:28:53.993184-06:00"}
{"Command":"Install-monitor-agent","caller":"plugin.go:249","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.install","installer":"monitor-agent","lvl":"dbug","msg":"Service \"monitor\" created","t":"2020-10-31T12:28:54.038272-06:00"}
{"Command":"Install-monitor-agent","caller":"plugin.go:249","fn":"github.com/codefresh-io/venona/venonactl/pkg/plugins.install","installer":"monitor-agent","lvl":"dbug","msg":"ClusterRole \"monitor-cluster-reader\" created","t":"2020-10-31T12:28:54.120101-06:00"}
{"Command":"Install-monitor-agent","caller":"install-monitor.go:124","fn":"github.com/codefresh-io/venona/venonactl/cmd.glob..func4","lvl":"info","msg":"Monitor agent installation completed Successfully","t":"2020-10-31T12:28:54.120188-06:00"}
